{#
  Places index page.

  Cities as section headings with entry counts, locations grouped
  by neighborhood when curated. Cities sorted by frequency.

  Context:
    city_count: int
    location_count: int
    cities: list of dicts:
      - name: str
      - country: str or None
      - entry_count: int
      - any_neighborhoods: bool
      - neighborhoods: list of dicts:
          - name: str
          - locations: list of dicts:
              - name: str
              - entry_count: int
      - locations: list of dicts (ungrouped):
          - name: str
          - entry_count: int
#}
# Places

{{ location_count | zpad }} locations in {{ city_count | zpad }} cities

---
{% for city in cities %}

## {{ city.name | wikilink }}
{{ city.entry_count | zpad }} entr{{ "y" if city.entry_count == 1 else "ies" }}{% if city.country %} 路 {{ city.country }}{% endif %}

{% if city.any_neighborhoods %}
{% for hood in city.neighborhoods %}

### {{ hood.name }}
{% for loc in hood.locations %}
- {{ loc.entry_count | zpad }} 路 {{ loc.name | wikilink }}
{% endfor %}
{% endfor %}
{% if city.locations %}

### Other
{% for loc in city.locations %}
- {{ loc.entry_count | zpad }} 路 {{ loc.name | wikilink }}
{% endfor %}
{% endif %}
{% elif city.locations %}
{% for loc in city.locations %}
- {{ loc.entry_count | zpad }} 路 {{ loc.name | wikilink }}
{% endfor %}
{% endif %}
{% endfor %}

---

- [Edit neighborhoods]({{ "neighborhoods_yaml" | source_path("") }})
