{% from "macros/thread_display.jinja2" import render_thread %}
# {{ display_name }} — Entries

[← {{ display_name }}][/journal/people/{{ slug }}]

---
{% if arc_event_spine %}

## Arcs
{% for arc_group in arc_event_spine %}

{% if arc_group.name == "Standalone events" %}
### Standalone events
{% else %}
### {{ arc_group.name | wikilink }}
{% endif %}
{% if arc_group.entry_count %}{{ arc_group.entry_count }} entries{% endif %}{% if arc_group.date_range %} · {{ arc_group.date_range }}{% endif %}

{% for event in arc_group.events %}

#### {{ event.name | wikilink }}
{% if event.description %}*{{ event.description }}*{% endif %}
{% for d in event.entry_dates %}{{ d | entry_date_short }}{% if not loop.last %} · {% endif %}{% endfor %}
{% endfor %}
{% endfor %}
{% endif %}
{% if outside_year_summary %}

---

## Entries outside events
{% for y in outside_year_summary %}
- [{{ y.year }}]({{ slug }}-entries-{{ y.year }}) · {{ y.count }} entr{{ "y" if y.count == 1 else "ies" }}
{% endfor %}
{% endif %}
{% if threads %}

---

## Threads
{% for thread in threads %}

{{ render_thread(thread) }}
{% endfor %}
{% endif %}
